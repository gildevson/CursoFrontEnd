/* =========================
   BASE STYLES & RESET
   ========================= */
:root{
  --sidebar-bg:#062c3d;
  --sidebar-bg-soft:#0b3a50;
  --divider-color:#0f4159;
  --text-primary:#b6c6d1;
  --text-secondary:#8ea3af;
  --text-active:#f3f9ef;
  --link-hover-bg:rgba(255,255,255,.06);
  --border-color:rgba(255,255,255,.2);

  /* dimensões responsivas */
  --sidebar-w-desktop:280px;
  --sidebar-w-collapsed:80px;
  --sidebar-w-mobile:88vw;        /* drawer ocupa 88% da tela no mobile */
  --sidebar-w-mobile-max:340px;
  --radius-lg:12px;
  --radius-md:10px;
  --space-1:0.25rem;
  --space-2:0.5rem;
  --space-3:0.75rem;
  --space-4:1rem;
  --space-5:1.25rem;
  --space-6:1.5rem;
}

*,
*::before,
*::after{margin:0;padding:0;box-sizing:border-box}

html{scroll-behavior:smooth}
@media (prefers-reduced-motion:reduce){
  html{scroll-behavior:auto}
  *{animation-duration:.01ms !important;animation-iteration-count:1 !important;transition-duration:.01ms !important;scroll-behavior:auto !important}
}

body{
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:#0b2230;
  color:var(--text-primary);
  line-height:1.6;
  -webkit-tap-highlight-color:transparent;
}

a,button{
  background:none;border:0;color:inherit;text-decoration:none;cursor:pointer;font-family:inherit;white-space:nowrap
}
a:focus-visible,button:focus-visible,input:focus-visible{
  outline:2px solid #67d6ff;outline-offset:2px;border-radius:8px
}

ul{list-style:none}

/* =========================
   HAMBURGER (mobile)
   ========================= */
.hamburger{
  position:fixed;inset:var(--space-4) auto auto var(--space-4);
  z-index:1100;font-size:1.75rem;color:#fff;display:inline-flex;gap:.5rem;align-items:center;
  padding:.4rem .6rem;border-radius:10px;background:rgba(0,0,0,.25);backdrop-filter:saturate(140%) blur(2px);
  transition:opacity .2s ease
}
.hamburger:hover{opacity:.9}

/* =========================
   SIDEBAR / DRAWER
   ========================= */
.menu-container{
  position:fixed;inset:0 auto 0 0;z-index:1000;
  width:min(var(--sidebar-w-mobile),var(--sidebar-w-mobile-max));
  height:100dvh; /* cobre notch com d-safe-area */
  padding-bottom:env(safe-area-inset-bottom);
  background:var(--sidebar-bg);
  display:flex;flex-direction:column;
  box-shadow:inset -1px 0 0 rgba(255,255,255,.04), 0 10px 30px rgba(0,0,0,.35);
  transform:translateX(-100%); /* fechado por padrão no mobile */
  transition:transform .25s ease-in-out;
  will-change:transform;
}
.menu-container.is-open{transform:translateX(0)}
/* Estado colapsado (aplicado só em >=1025px) */
.menu-container.collapsed{width:var(--sidebar-w-collapsed)}

.overlay{
  position:fixed;inset:0;background:rgba(0,0,0,.45);z-index:900;
  opacity:0;visibility:hidden;transition:opacity .25s ease,visibility .25s ease
}
.overlay.is-active{opacity:1;visibility:visible}

/* =========================
   TOPO / BUSCA / USER
   ========================= */
.menu-top{
  display:flex;align-items:center;gap:.5rem;
  padding:.75rem .875rem;border-bottom:1px solid var(--divider-color);color:#fff;font-weight:600
}

.menu-search{padding:.75rem 1rem .375rem;display:flex;align-items:center;gap:10px}
.menu-search input{
  width:100%;background:transparent;color:#fff;font-size:.95rem;border:0;border-bottom:1px solid var(--border-color);
  padding:.55rem .375rem;outline:none;transition:border-bottom-color .2s ease
}
.menu-search input::placeholder{color:rgba(255,255,255,.55)}
.menu-search input:focus{border-bottom-color:rgba(255,255,255,.4)}

.user-info{
  display:flex;align-items:center;gap:.625rem;padding:.625rem 1rem .5rem;color:#fff;font-weight:600;
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis
}
.user-info .user-icon{font-size:1.125rem}

/* =========================
   LISTA / ITENS
   ========================= */
.menu{
  padding:.375rem .375rem .75rem;height:100%;overflow:auto;
  scrollbar-width:thin;scrollbar-color:var(--divider-color) transparent
}
.menu::-webkit-scrollbar{width:10px}
.menu::-webkit-scrollbar-thumb{background:var(--divider-color);border-radius:999px}

.menu-item,.menu-group-toggle{
  display:flex;align-items:center;gap:.625rem;width:100%;
  padding:.625rem .75rem;margin:.125rem .375rem;border-radius:var(--radius-lg);
  color:var(--text-primary);text-align:left;
  transition:background-color .15s ease,color .15s ease
}
.menu-item:hover,.menu-group-toggle:hover{background:var(--link-hover-bg);color:#fff}
.menu-item svg,.menu-group-toggle svg{font-size:1.125rem;min-width:1.125rem}

.menu-item.active{color:var(--text-active);font-weight:700}

.menu-group-caret{margin-left:auto;display:inline-flex;color:var(--text-secondary);transition:transform .2s ease}
.menu-group.open .menu-group-toggle{background:var(--sidebar-bg-soft)}
.menu-group.open .menu-group-caret{transform:rotate(90deg)}

.submenu{
  margin:.25rem 0 .5rem .875rem;padding-left:.875rem;border-left:2px solid rgba(255,255,255,.12);
  display:none;overflow:hidden
}
.menu-group.open .submenu{display:block}

.submenu-item{
  display:flex;align-items:center;gap:.5rem;padding:.5rem .625rem;margin:.125rem .375rem;border-radius:10px;
  color:var(--text-primary);transition:background-color .15s ease,color .15s ease
}
.submenu-item:hover{background:var(--link-hover-bg);color:#fff}
.submenu-item.active{color:var(--text-active);font-weight:700}
.submenu-item svg{font-size:1rem}

.menu-section{margin:.625rem .375rem}
.menu-section-title{
  color:var(--text-secondary);font-size:.72rem;letter-spacing:.08em;text-transform:uppercase;font-weight:800;
  padding:.375rem .75rem .5rem
}

.menu-bottom{margin-top:auto;padding:.375rem}

/* Tooltip ao colapsar (desktop apenas) */
.menu-container.collapsed .menu-link,
.menu-container.collapsed .menu-group-caret,
.menu-container.collapsed .menu-section-title{display:none}

.menu-container.collapsed .menu-item,
.menu-container.collapsed .menu-group-toggle,
.menu-container.collapsed .submenu-item{justify-content:center;padding:1rem 0}

.menu-container.collapsed .menu-item,
.menu-container.collapsed .menu-group-toggle,
.menu-container.collapsed .menu-bottom .menu-item{position:relative;overflow:visible}

@media (hover:hover){
  .menu-container.collapsed .menu-item:hover::after,
  .menu-container.collapsed .menu-group-toggle:hover::after,
  .menu-container.collapsed .menu-bottom .menu-item:hover::after{
    content:attr(title);position:absolute;left:calc(100% + 10px);top:50%;transform:translateY(-50%);
    background:#333;color:#fff;padding:8px 12px;border-radius:6px;font-size:.875rem;white-space:nowrap;z-index:10;
    pointer-events:none;opacity:1
  }
}

/* Botão de colapso (aparece no desktop) */
.collapse-button{
  display:none;align-items:center;justify-content:center;width:100%;padding:10px;
  background:var(--sidebar-bg-soft);color:var(--text-primary);border-bottom:1px solid var(--divider-color);
  transition:background-color .2s ease
}
.collapse-button:hover{background:var(--link-hover-bg)}
.collapse-button svg{font-size:1.2rem;transition:transform .3s ease}
.menu-container.collapsed .collapse-button svg{transform:rotate(180deg)}

/* =========================
   FORM & TABLE (mantidos)
   ========================= */
.user-form{
  background:#202024;padding:20px;border-radius:10px;box-shadow:0 0 15px rgba(0,0,0,.5);
  margin:20px auto;max-width:420px
}
.user-form h2{color:#fff;margin-bottom:20px;text-align:center}
.inputField{margin-bottom:15px}
.inputField label{display:block;color:#e1e1e6;margin-bottom:5px}
.inputField input,.inputField select{
  width:100%;padding:10px;border-radius:5px;border:none;background:#29292e;color:#fff;font-size:16px;transition:border .3s ease
}
.inputField input:focus,.inputField select:focus{outline:none;border:2px solid #9fd47a}
.submitButton{
  width:100%;padding:12px;background:#007bff;color:#fff;font-size:16px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease
}
.submitButton:hover{background:#0056b3}

.user-table{width:100%;border-collapse:collapse;margin:20px 0;font-size:16px;text-align:left}
.user-table thead th{background:#202024;color:#e1e1e6;padding:12px}
.user-table tbody tr{background:#29292e;color:#e1e1e6}
.user-table tbody td{padding:12px;border-bottom:1px solid #383838}
.user-table tbody tr:hover{background:#32323a}
.deleteButton{background:#ff4d4f;color:#fff;border:none;padding:8px 12px;border-radius:5px;cursor:pointer;transition:background-color .3s ease}
.deleteButton:hover{background:#d63638}

/* =========================
   RESPONSIVIDADE
   ========================= */

/* 1) MOBILE-FIRST: drawer fechado por padrão; overlay controla o fundo */
@media (max-width:1024px){
  body.lw-lock{ /* quando sidebar aberta, travar scroll do body */
    height:100dvh;overflow:hidden;touch-action:none
  }
  .collapse-button{display:none} /* sem colapso no mobile, é drawer */
}

/* 2) DESKTOP: sidebar fixa à esquerda, com opção de colapso */
@media (min-width:1025px){
  .hamburger{display:none}

  .menu-container{
    width:var(--sidebar-w-desktop);
    transform:translateX(0) !important; /* sempre visível */
  }

  .overlay{display:none}

  body.lw-has-sidebar{
    padding-left:var(--sidebar-w-desktop);
    transition:padding-left .3s ease-in-out
  }
  body.lw-sidebar-collapsed{
    padding-left:var(--sidebar-w-collapsed)
  }

  .collapse-button{display:flex}
}

/* 3) TELAS MUITO PEQUENAS: dar mais espaço nos itens */
@media (max-width:360px){
  .menu-item,.menu-group-toggle{padding:.75rem}
  .submenu-item{padding:.6rem .7rem}
}

/* 4) HIGH CONTRAST SUPPORT */
@media (prefers-contrast:more){
  .menu-item:hover,.menu-group-toggle:hover{background:rgba(255,255,255,.12)}
  .submenu-item:hover{background:rgba(255,255,255,.12)}
}
